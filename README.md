# Домашнее задание к занятию «Системы мониторинга» - Тертерян Вячеслав

---

### Задание 1  

Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?  

Ответ:  
1. CPU LA - информация о нагрузке на центральный процессор
2. RAM - следить за памятью, возможно  сюда добавить еще swap
3. IOPS - операции с диском
4. Доступность страниц
5. Срок жизни tls сертификата
6. Количество или процент ошибок 5xx
7. inodes - следить за переполнением индексных дескриптеров  

---

### Задание 2  

Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?  

Ответ:  
Поясняем то что расписано в задание 1 про непонятные метрики и предлагаем использовать показатели SLI. Например:  
1. SLO - целевой уровень качества обслуживания
2. SLA - соглашение об уровне обслуживания
3. SLI - индикатор качества обслуживания. Конкретная величина предоставляемого обслуживания
4. Расчет SLI = (summ_2xx_requests + summ_3xx_requests) / (summ_all_requests)  

---  

### Задание 3  

Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?  

Ответ:  
Использовать opensource продукты для сбора логов.  

---

### Задание 4  

Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов. Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?  

Ответ:  
В формуле не хвататет ответов 3xx, тоесть в итоге она должна выглядить вот так - (summ_2xx_requests + summ_3xx_requests) / (summ_all_requests)  

---

### Задание 5  

Опишите основные плюсы и минусы pull и push систем мониторинга.  

Ответ:  
1. Pull-модель плюсы:  
    - Контроль подлинности данных упрощен
    - Возможность использовать единный proxy до всех агентов
    - Простая отладка получения данных с агентов
2. Pull-модель минусы:  
    - Привязка к опеределенным инструментам  
3. Push-модель плюсы:  
    - Просто управлять и настраивать реплицкации данных с агентов  
    - Гибкая настройка собираемых метрик агентом  
    - Использование udp, как более экономного способа передачи данных  
4. Push-модель минусы:  
    - Большое количество агентов на 1 сервер  
    - Использование udp как не самого надежного транспорта  

---

### Задание 6  

Какие из ниже перечисленных систем относятся к push модели, а какие к pull? А может есть гибридные?  

Ответ:  
1. Prometheus - pull-модель
2. TICK - push-модель
3. Zabbix - гибридная система, работает с обоими моделями
4. VictoriaMetrics - pull-модель
5. Nagios - pull-модель  

---

### Задание 8  

![alt text](https://github.com/Marsianec/homework21-1/blob/main/img/1.png)  

### Задание 9  

![alt text](https://github.com/Marsianec/homework21-1/blob/main/img/2.png)  

